<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta charset="utf-8" />
  <title>RailsTreejs</title>
  <link rel="stylesheet" media="all" href="/assets/tree.css?body=1" data-turbolinks-track="true" />
<link rel="stylesheet" media="all" href="/assets/application.css?body=1" data-turbolinks-track="true" />
  <script src="/assets/jquery.js?body=1" data-turbolinks-track="true"></script>
<script src="/assets/jquery_ujs.js?body=1" data-turbolinks-track="true"></script>
<script src="/assets/turbolinks.js?body=1" data-turbolinks-track="true"></script>
<script src="/assets/jstree.min.js?body=1" data-turbolinks-track="true"></script>
<script src="/assets/tree.js?body=1" data-turbolinks-track="true"></script>
<script src="/assets/application.js?body=1" data-turbolinks-track="true"></script>
  <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="lEXdBPyQU5t9BY/iEQKy9VbzDHfiRgY298KzfANcOyI=" />
  <link href="/assets/themes/default/style.min.css" rel="stylesheet" />

</head>
<body>

<h2>jstree プラグインの利用例</h2>
* ./app 以下 を Tree 表示する (ajax を利用)
<table>
  <thead>
  </thead>
  <tbody>
    <tr>
      <td width="400" valign="top" nowrap="nowrap">
        <div>
	  <button class="tree_btn" id="ajaxTree_open">open_all</button>
          <button class="tree_btn" id="ajaxTree_close">close_all</button>
          <br />
	   <input type="text" placeholder="try css" style="margin:8px; border-radius:4px;" id="ajaxTree-q" />(部分一致で逐次選択します)
          <div id="ajaxTree" class="jstree jstree-4 jstree-default jstree-default-small" role="tree" aria-activedescendant="/assets/javascripts/default/style.min.css"><ul class="jstree-container-ul jstree-striped jstree-no-dots jstree-wholerow-ul"><li role="treeitem" aria-expanded="true" id="/assets" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>assets</a><ul role="group" class="jstree-children"><li role="treeitem" aria-expanded="true" id="/assets/images" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>images</a><ul role="group" class="jstree-children"><li role="treeitem" id="/assets/images/file_sprite.png" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-png jstree-themeicon-custom"></i>file_sprite.png</a></li></ul></li><li role="treeitem" aria-expanded="true" id="/assets/javascripts" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>javascripts</a><ul role="group" class="jstree-children"><li role="treeitem" id="/assets/javascripts/application.js" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-js jstree-themeicon-custom"></i>application.js</a></li><li role="treeitem" aria-expanded="true" id="/assets/javascripts/default" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>default</a><ul role="group" class="jstree-children"><li role="treeitem" id="/assets/javascripts/default/32px.png" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-png jstree-themeicon-custom"></i>32px.png</a></li><li role="treeitem" id="/assets/javascripts/default/40px.png" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-png jstree-themeicon-custom"></i>40px.png</a></li><li role="treeitem" id="/assets/javascripts/default/style.css" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-css jstree-themeicon-custom"></i>style.css</a></li><li role="treeitem" id="/assets/javascripts/default/style.min.css" class="jstree-node  jstree-leaf" aria-selected="true"><div unselectable="on" class="jstree-wholerow jstree-wholerow-hovered jstree-wholerow-clicked"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor jstree-hovered jstree-clicked" href="#"><i class="jstree-icon jstree-themeicon file file-css jstree-themeicon-custom"></i>style.min.css</a></li><li role="treeitem" id="/assets/javascripts/default/throbber.gif" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-gif jstree-themeicon-custom"></i>throbber.gif</a></li></ul></li><li role="treeitem" id="/assets/javascripts/jstree.min.js" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-js jstree-themeicon-custom"></i>jstree.min.js</a></li><li role="treeitem" aria-expanded="true" id="/assets/javascripts/themes" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>themes</a><ul role="group" class="jstree-children"><li role="treeitem" aria-expanded="true" id="/assets/javascripts/themes/default" class="jstree-node  jstree-open jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>default</a><ul role="group" class="jstree-children"><li role="treeitem" id="/assets/javascripts/themes/default/32px.png" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-png jstree-themeicon-custom"></i>32px.png</a></li><li role="treeitem" id="/assets/javascripts/themes/default/40px.png" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-png jstree-themeicon-custom"></i>40px.png</a></li><li role="treeitem" id="/assets/javascripts/themes/default/style.css" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-css jstree-themeicon-custom"></i>style.css</a></li><li role="treeitem" id="/assets/javascripts/themes/default/style.min.css" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-css jstree-themeicon-custom"></i>style.min.css</a></li><li role="treeitem" id="/assets/javascripts/themes/default/throbber.gif" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-gif jstree-themeicon-custom"></i>throbber.gif</a></li></ul></li></ul></li><li role="treeitem" id="/assets/javascripts/tree.js.coffee" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-coffee jstree-themeicon-custom"></i>tree.js.coffee</a></li></ul></li><li role="treeitem" aria-expanded="true" id="/assets/stylesheets" class="jstree-node  jstree-open jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>stylesheets</a><ul role="group" class="jstree-children"><li role="treeitem" id="/assets/stylesheets/application.css" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-css jstree-themeicon-custom"></i>application.css</a></li><li role="treeitem" id="/assets/stylesheets/tree.css.scss" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-scss jstree-themeicon-custom"></i>tree.css.scss</a></li></ul></li></ul></li><li role="treeitem" aria-expanded="true" id="/controllers" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>controllers</a><ul role="group" class="jstree-children"><li role="treeitem" id="/controllers/application_controller.rb" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-rb jstree-themeicon-custom"></i>application_controller.rb</a></li><li role="treeitem" id="/controllers/concerns" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>concerns</a></li><li role="treeitem" id="/controllers/tree_controller.rb" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-rb jstree-themeicon-custom"></i>tree_controller.rb</a></li></ul></li><li role="treeitem" aria-expanded="true" id="/helpers" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>helpers</a><ul role="group" class="jstree-children"><li role="treeitem" id="/helpers/application_helper.rb" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-rb jstree-themeicon-custom"></i>application_helper.rb</a></li><li role="treeitem" id="/helpers/tree_helper.rb" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-rb jstree-themeicon-custom"></i>tree_helper.rb</a></li></ul></li><li role="treeitem" id="/mailers" class="jstree-node  jstree-leaf"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>mailers</a></li><li role="treeitem" aria-expanded="true" id="/models" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>models</a><ul role="group" class="jstree-children"><li role="treeitem" id="/models/concerns" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>concerns</a></li></ul></li><li role="treeitem" aria-expanded="true" id="/views" class="jstree-node  jstree-open jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>views</a><ul role="group" class="jstree-children"><li role="treeitem" aria-expanded="true" id="/views/layouts" class="jstree-node  jstree-open"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>layouts</a><ul role="group" class="jstree-children"><li role="treeitem" id="/views/layouts/application.html.erb" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-erb jstree-themeicon-custom"></i>application.html.erb</a></li></ul></li><li role="treeitem" aria-expanded="true" id="/views/tree" class="jstree-node  jstree-open jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>tree</a><ul role="group" class="jstree-children"><li role="treeitem" id="/views/tree/index.html.erb" class="jstree-node  jstree-leaf jstree-last"><div unselectable="on" class="jstree-wholerow"> </div><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon file file-erb jstree-themeicon-custom"></i>index.html.erb</a></li></ul></li></ul></li></ul></div>
        </div>
      </td>
      <td valign="top">
	選択された項目: <span id="file_type">ファイル</span> <span id="selected">/assets/javascripts/default/style.min.css</span>
	<div id="file_contents_div" style="display: block;">内容：
	  <div id="file"><pre class="tree_pre" id="file_contents">.jstree-node,.jstree-children,.jstree-container-ul{display:block;margin:0;padding:0;list-style-type:none;list-style-image:none}.jstree-node{white-space:nowrap}.jstree-anchor{display:inline-block;color:#000;white-space:nowrap;padding:0 4px 0 1px;margin:0;vertical-align:top}.jstree-anchor:focus{outline:0}.jstree-anchor,.jstree-anchor:link,.jstree-anchor:visited,.jstree-anchor:hover,.jstree-anchor:active{text-decoration:none;color:inherit}.jstree-icon{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.jstree-icon:empty{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.jstree-ocl{cursor:pointer}.jstree-leaf&gt;.jstree-ocl{cursor:default}.jstree .jstree-open&gt;.jstree-children{display:block}.jstree .jstree-closed&gt;.jstree-children,.jstree .jstree-leaf&gt;.jstree-children{display:none}.jstree-anchor&gt;.jstree-themeicon{margin-right:2px}.jstree-no-icons .jstree-themeicon,.jstree-anchor&gt;.jstree-themeicon-hidden{display:none}.jstree-rtl .jstree-anchor{padding:0 1px 0 4px}.jstree-rtl .jstree-anchor&gt;.jstree-themeicon{margin-left:2px;margin-right:0}.jstree-rtl .jstree-node{margin-left:0}.jstree-rtl .jstree-container-ul&gt;.jstree-node{margin-right:0}.jstree-wholerow-ul{position:relative;display:inline-block;min-width:100%}.jstree-wholerow-ul .jstree-leaf&gt;.jstree-ocl{cursor:pointer}.jstree-wholerow-ul .jstree-anchor,.jstree-wholerow-ul .jstree-icon{position:relative}.jstree-wholerow-ul .jstree-wholerow{width:100%;cursor:pointer;position:absolute;left:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vakata-context{display:none}.vakata-context,.vakata-context ul{margin:0;padding:2px;position:absolute;background:#f5f5f5;border:1px solid #979797;-moz-box-shadow:5px 5px 4px -4px #666;-webkit-box-shadow:2px 2px 2px #999;box-shadow:2px 2px 2px #999}.vakata-context ul{list-style:none;left:100%;margin-top:-2.7em;margin-left:-4px}.vakata-context .vakata-context-right ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context li{list-style:none;display:inline}.vakata-context li&gt;a{display:block;padding:0 2em;text-decoration:none;width:auto;color:#000;white-space:nowrap;line-height:2.4em;-moz-text-shadow:1px 1px 0 #fff;-webkit-text-shadow:1px 1px 0 #fff;text-shadow:1px 1px 0 #fff;-moz-border-radius:1px;-webkit-border-radius:1px;border-radius:1px}.vakata-context li&gt;a:hover{position:relative;background-color:#e8eff7;-moz-box-shadow:0 0 2px #0a6aa1;-webkit-box-shadow:0 0 2px #0a6aa1;box-shadow:0 0 2px #0a6aa1}.vakata-context li&gt;a.vakata-context-parent{background-image:url(data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw==);background-position:right center;background-repeat:no-repeat}.vakata-context li&gt;a:focus{outline:0}.vakata-context .vakata-context-hover&gt;a{position:relative;background-color:#e8eff7;-moz-box-shadow:0 0 2px #0a6aa1;-webkit-box-shadow:0 0 2px #0a6aa1;box-shadow:0 0 2px #0a6aa1}.vakata-context .vakata-context-separator a,.vakata-context .vakata-context-separator a:hover{background:#fff;border:0;border-top:1px solid #e2e3e3;height:1px;min-height:1px;max-height:1px;padding:0;margin:0 0 0 2.4em;border-left:1px solid #e0e0e0;-moz-text-shadow:0 0 0 transparent;-webkit-text-shadow:0 0 0 transparent;text-shadow:0 0 0 transparent;-moz-box-shadow:0 0 0 transparent;-webkit-box-shadow:0 0 0 transparent;box-shadow:0 0 0 transparent;-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}.vakata-context .vakata-contextmenu-disabled a,.vakata-context .vakata-contextmenu-disabled a:hover{color:silver;background-color:transparent;border:0;box-shadow:0 0 0}.vakata-context li&gt;a&gt;i{text-decoration:none;display:inline-block;width:2.4em;height:2.4em;background:0 0;margin:0 0 0 -2em;vertical-align:top;text-align:center;line-height:2.4em}.vakata-context li&gt;a&gt;i:empty{width:2.4em;line-height:2.4em}.vakata-context li&gt;a .vakata-contextmenu-sep{display:inline-block;width:1px;height:2.4em;background:#fff;margin:0 .5em 0 0;border-left:1px solid #e2e3e3}.vakata-context .vakata-contextmenu-shortcut{font-size:.8em;color:silver;opacity:.5;display:none}.vakata-context-rtl ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context-rtl li&gt;a.vakata-context-parent{background-image:url(data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7);background-position:left center;background-repeat:no-repeat}.vakata-context-rtl .vakata-context-separator&gt;a{margin:0 2.4em 0 0;border-left:0;border-right:1px solid #e2e3e3}.vakata-context-rtl .vakata-context-left ul{right:auto;left:100%;margin-left:-4px;margin-right:auto}.vakata-context-rtl li&gt;a&gt;i{margin:0 -2em 0 0}.vakata-context-rtl li&gt;a .vakata-contextmenu-sep{margin:0 0 0 .5em;border-left-color:#fff;background:#e2e3e3}#jstree-marker{position:absolute;top:0;left:0;margin:0;padding:0;border-right:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid;width:0;height:0;font-size:0;line-height:0}#jstree-dnd{line-height:16px;margin:0;padding:4px}#jstree-dnd .jstree-icon,#jstree-dnd .jstree-copy{display:inline-block;text-decoration:none;margin:0 2px 0 0;padding:0;width:16px;height:16px}#jstree-dnd .jstree-ok{background:green}#jstree-dnd .jstree-er{background:red}#jstree-dnd .jstree-copy{margin:0 2px}.jstree-default .jstree-node,.jstree-default .jstree-icon{background-repeat:no-repeat;background-color:transparent}.jstree-default .jstree-anchor,.jstree-default .jstree-wholerow{transition:background-color .15s,box-shadow .15s}.jstree-default .jstree-hovered{background:#e7f4f9;border-radius:2px;box-shadow:inset 0 0 1px #ccc}.jstree-default .jstree-clicked{background:#beebff;border-radius:2px;box-shadow:inset 0 0 1px #999}.jstree-default .jstree-no-icons .jstree-anchor&gt;.jstree-themeicon{display:none}.jstree-default .jstree-disabled{background:0 0;color:#666}.jstree-default .jstree-disabled.jstree-hovered{background:0 0;box-shadow:none}.jstree-default .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default .jstree-disabled&gt;.jstree-icon{opacity:.8;filter:url("data:image/svg+xml;utf8,&lt;svg xmlns=\'http://www.w3.org/2000/svg\'&gt;&lt;filter id=\'jstree-grayscale\'&gt;&lt;feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/&gt;&lt;/filter&gt;&lt;/svg&gt;#jstree-grayscale");filter:gray;-webkit-filter:grayscale(100%)}.jstree-default .jstree-search{font-style:italic;color:#8b0000;font-weight:700}.jstree-default .jstree-no-checkboxes .jstree-checkbox{display:none!important}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked{background:0 0;box-shadow:none}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked.jstree-hovered{background:#e7f4f9}.jstree-default.jstree-checkbox-no-clicked&gt;.jstree-wholerow-ul .jstree-wholerow-clicked{background:0 0}.jstree-default.jstree-checkbox-no-clicked&gt;.jstree-wholerow-ul .jstree-wholerow-clicked.jstree-wholerow-hovered{background:#e7f4f9}#jstree-dnd.jstree-default .jstree-ok,#jstree-dnd.jstree-default .jstree-er{background-image:url(32px.png);background-repeat:no-repeat;background-color:transparent}#jstree-dnd.jstree-default i{background:0 0;width:16px;height:16px}#jstree-dnd.jstree-default .jstree-ok{background-position:-9px -71px}#jstree-dnd.jstree-default .jstree-er{background-position:-39px -71px}.jstree-default&gt;.jstree-striped{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAMAAAB/qqA+AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMNAMM9s3UAAAAXSURBVHjajcEBAQAAAIKg/H/aCQZ70AUBjAATb6YPDgAAAABJRU5ErkJggg==) left top repeat}.jstree-default&gt;.jstree-wholerow-ul .jstree-hovered,.jstree-default&gt;.jstree-wholerow-ul .jstree-clicked{background:0 0;box-shadow:none;border-radius:0}.jstree-default .jstree-wholerow{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.jstree-default .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default .jstree-wholerow-clicked{background:#beebff;background:-moz-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#beebff),color-stop(100%,#a8e4ff));background:-webkit-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:-o-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:-ms-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:linear-gradient(to bottom,#beebff 0,#a8e4ff 100%)}.jstree-default .jstree-node{min-height:24px;line-height:24px;margin-left:24px;min-width:24px}.jstree-default .jstree-anchor{line-height:24px;height:24px}.jstree-default .jstree-icon{width:24px;height:24px;line-height:24px}.jstree-default .jstree-icon:empty{width:24px;height:24px;line-height:24px}.jstree-default.jstree-rtl .jstree-node{margin-right:24px}.jstree-default .jstree-wholerow{height:24px}.jstree-default .jstree-node,.jstree-default .jstree-icon{background-image:url(32px.png)}.jstree-default .jstree-node{background-position:-292px -4px;background-repeat:repeat-y}.jstree-default .jstree-last{background:0 0}.jstree-default .jstree-open&gt;.jstree-ocl{background-position:-132px -4px}.jstree-default .jstree-closed&gt;.jstree-ocl{background-position:-100px -4px}.jstree-default .jstree-leaf&gt;.jstree-ocl{background-position:-68px -4px}.jstree-default .jstree-themeicon{background-position:-260px -4px}.jstree-default&gt;.jstree-no-dots .jstree-node,.jstree-default&gt;.jstree-no-dots .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default&gt;.jstree-no-dots .jstree-open&gt;.jstree-ocl{background-position:-36px -4px}.jstree-default&gt;.jstree-no-dots .jstree-closed&gt;.jstree-ocl{background-position:-4px -4px}.jstree-default .jstree-disabled{background:0 0}.jstree-default .jstree-disabled.jstree-hovered{background:0 0}.jstree-default .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default .jstree-checkbox{background-position:-164px -4px}.jstree-default .jstree-checkbox:hover{background-position:-164px -36px}.jstree-default .jstree-clicked&gt;.jstree-checkbox{background-position:-228px -4px}.jstree-default .jstree-clicked&gt;.jstree-checkbox:hover{background-position:-228px -36px}.jstree-default .jstree-anchor&gt;.jstree-undetermined{background-position:-196px -4px}.jstree-default .jstree-anchor&gt;.jstree-undetermined:hover{background-position:-196px -36px}.jstree-default&gt;.jstree-striped{background-size:auto 48px}.jstree-default.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default.jstree-rtl .jstree-last{background:0 0}.jstree-default.jstree-rtl .jstree-open&gt;.jstree-ocl{background-position:-132px -36px}.jstree-default.jstree-rtl .jstree-closed&gt;.jstree-ocl{background-position:-100px -36px}.jstree-default.jstree-rtl .jstree-leaf&gt;.jstree-ocl{background-position:-68px -36px}.jstree-default.jstree-rtl&gt;.jstree-no-dots .jstree-node,.jstree-default.jstree-rtl&gt;.jstree-no-dots .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default.jstree-rtl&gt;.jstree-no-dots .jstree-open&gt;.jstree-ocl{background-position:-36px -36px}.jstree-default.jstree-rtl&gt;.jstree-no-dots .jstree-closed&gt;.jstree-ocl{background-position:-4px -36px}.jstree-default .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default&gt;.jstree-container-ul .jstree-loading&gt;.jstree-ocl{background:url(throbber.gif) center center no-repeat}.jstree-default .jstree-file{background:url(32px.png) -100px -68px no-repeat}.jstree-default .jstree-folder{background:url(32px.png) -260px -4px no-repeat}.jstree-default.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==)}.jstree-default.jstree-rtl .jstree-last{background:0 0}.jstree-default-small .jstree-node{min-height:18px;line-height:18px;margin-left:18px;min-width:18px}.jstree-default-small .jstree-anchor{line-height:18px;height:18px}.jstree-default-small .jstree-icon{width:18px;height:18px;line-height:18px}.jstree-default-small .jstree-icon:empty{width:18px;height:18px;line-height:18px}.jstree-default-small.jstree-rtl .jstree-node{margin-right:18px}.jstree-default-small .jstree-wholerow{height:18px}.jstree-default-small .jstree-node,.jstree-default-small .jstree-icon{background-image:url(32px.png)}.jstree-default-small .jstree-node{background-position:-295px -7px;background-repeat:repeat-y}.jstree-default-small .jstree-last{background:0 0}.jstree-default-small .jstree-open&gt;.jstree-ocl{background-position:-135px -7px}.jstree-default-small .jstree-closed&gt;.jstree-ocl{background-position:-103px -7px}.jstree-default-small .jstree-leaf&gt;.jstree-ocl{background-position:-71px -7px}.jstree-default-small .jstree-themeicon{background-position:-263px -7px}.jstree-default-small&gt;.jstree-no-dots .jstree-node,.jstree-default-small&gt;.jstree-no-dots .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default-small&gt;.jstree-no-dots .jstree-open&gt;.jstree-ocl{background-position:-39px -7px}.jstree-default-small&gt;.jstree-no-dots .jstree-closed&gt;.jstree-ocl{background-position:-7px -7px}.jstree-default-small .jstree-disabled{background:0 0}.jstree-default-small .jstree-disabled.jstree-hovered{background:0 0}.jstree-default-small .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-small .jstree-checkbox{background-position:-167px -7px}.jstree-default-small .jstree-checkbox:hover{background-position:-167px -39px}.jstree-default-small .jstree-clicked&gt;.jstree-checkbox{background-position:-231px -7px}.jstree-default-small .jstree-clicked&gt;.jstree-checkbox:hover{background-position:-231px -39px}.jstree-default-small .jstree-anchor&gt;.jstree-undetermined{background-position:-199px -7px}.jstree-default-small .jstree-anchor&gt;.jstree-undetermined:hover{background-position:-199px -39px}.jstree-default-small&gt;.jstree-striped{background-size:auto 36px}.jstree-default-small.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default-small.jstree-rtl .jstree-last{background:0 0}.jstree-default-small.jstree-rtl .jstree-open&gt;.jstree-ocl{background-position:-135px -39px}.jstree-default-small.jstree-rtl .jstree-closed&gt;.jstree-ocl{background-position:-103px -39px}.jstree-default-small.jstree-rtl .jstree-leaf&gt;.jstree-ocl{background-position:-71px -39px}.jstree-default-small.jstree-rtl&gt;.jstree-no-dots .jstree-node,.jstree-default-small.jstree-rtl&gt;.jstree-no-dots .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default-small.jstree-rtl&gt;.jstree-no-dots .jstree-open&gt;.jstree-ocl{background-position:-39px -39px}.jstree-default-small.jstree-rtl&gt;.jstree-no-dots .jstree-closed&gt;.jstree-ocl{background-position:-7px -39px}.jstree-default-small .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-small&gt;.jstree-container-ul .jstree-loading&gt;.jstree-ocl{background:url(throbber.gif) center center no-repeat}.jstree-default-small .jstree-file{background:url(32px.png) -103px -71px no-repeat}.jstree-default-small .jstree-folder{background:url(32px.png) -263px -7px no-repeat}.jstree-default-small.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAACAQMAAABv1h6PAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMHBgAAiABBI4gz9AAAAABJRU5ErkJggg==)}.jstree-default-small.jstree-rtl .jstree-last{background:0 0}.jstree-default-large .jstree-node{min-height:32px;line-height:32px;margin-left:32px;min-width:32px}.jstree-default-large .jstree-anchor{line-height:32px;height:32px}.jstree-default-large .jstree-icon{width:32px;height:32px;line-height:32px}.jstree-default-large .jstree-icon:empty{width:32px;height:32px;line-height:32px}.jstree-default-large.jstree-rtl .jstree-node{margin-right:32px}.jstree-default-large .jstree-wholerow{height:32px}.jstree-default-large .jstree-node,.jstree-default-large .jstree-icon{background-image:url(32px.png)}.jstree-default-large .jstree-node{background-position:-288px 0;background-repeat:repeat-y}.jstree-default-large .jstree-last{background:0 0}.jstree-default-large .jstree-open&gt;.jstree-ocl{background-position:-128px 0}.jstree-default-large .jstree-closed&gt;.jstree-ocl{background-position:-96px 0}.jstree-default-large .jstree-leaf&gt;.jstree-ocl{background-position:-64px 0}.jstree-default-large .jstree-themeicon{background-position:-256px 0}.jstree-default-large&gt;.jstree-no-dots .jstree-node,.jstree-default-large&gt;.jstree-no-dots .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default-large&gt;.jstree-no-dots .jstree-open&gt;.jstree-ocl{background-position:-32px 0}.jstree-default-large&gt;.jstree-no-dots .jstree-closed&gt;.jstree-ocl{background-position:0 0}.jstree-default-large .jstree-disabled{background:0 0}.jstree-default-large .jstree-disabled.jstree-hovered{background:0 0}.jstree-default-large .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-large .jstree-checkbox{background-position:-160px 0}.jstree-default-large .jstree-checkbox:hover{background-position:-160px -32px}.jstree-default-large .jstree-clicked&gt;.jstree-checkbox{background-position:-224px 0}.jstree-default-large .jstree-clicked&gt;.jstree-checkbox:hover{background-position:-224px -32px}.jstree-default-large .jstree-anchor&gt;.jstree-undetermined{background-position:-192px 0}.jstree-default-large .jstree-anchor&gt;.jstree-undetermined:hover{background-position:-192px -32px}.jstree-default-large&gt;.jstree-striped{background-size:auto 64px}.jstree-default-large.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default-large.jstree-rtl .jstree-last{background:0 0}.jstree-default-large.jstree-rtl .jstree-open&gt;.jstree-ocl{background-position:-128px -32px}.jstree-default-large.jstree-rtl .jstree-closed&gt;.jstree-ocl{background-position:-96px -32px}.jstree-default-large.jstree-rtl .jstree-leaf&gt;.jstree-ocl{background-position:-64px -32px}.jstree-default-large.jstree-rtl&gt;.jstree-no-dots .jstree-node,.jstree-default-large.jstree-rtl&gt;.jstree-no-dots .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default-large.jstree-rtl&gt;.jstree-no-dots .jstree-open&gt;.jstree-ocl{background-position:-32px -32px}.jstree-default-large.jstree-rtl&gt;.jstree-no-dots .jstree-closed&gt;.jstree-ocl{background-position:0 -32px}.jstree-default-large .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-large&gt;.jstree-container-ul .jstree-loading&gt;.jstree-ocl{background:url(throbber.gif) center center no-repeat}.jstree-default-large .jstree-file{background:url(32px.png) -96px -64px no-repeat}.jstree-default-large .jstree-folder{background:url(32px.png) -256px 0 no-repeat}.jstree-default-large.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACAQMAAAAD0EyKAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjgIIGBgABCgCBvVLXcAAAAABJRU5ErkJggg==)}.jstree-default-large.jstree-rtl .jstree-last{background:0 0}@media (max-width:768px){.jstree-default-responsive .jstree-icon{background-image:url(40px.png)}.jstree-default-responsive .jstree-node,.jstree-default-responsive .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default-responsive .jstree-node{min-height:40px;line-height:40px;margin-left:40px;min-width:40px;white-space:nowrap}.jstree-default-responsive .jstree-anchor{line-height:40px;height:40px}.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-icon:empty{width:40px;height:40px;line-height:40px}.jstree-default-responsive&gt;.jstree-container-ul&gt;.jstree-node{margin-left:0}.jstree-default-responsive.jstree-rtl .jstree-node{margin-left:0;margin-right:40px}.jstree-default-responsive.jstree-rtl .jstree-container-ul&gt;.jstree-node{margin-right:0}.jstree-default-responsive .jstree-ocl,.jstree-default-responsive .jstree-themeicon,.jstree-default-responsive .jstree-checkbox{background-size:120px 200px}.jstree-default-responsive .jstree-leaf&gt;.jstree-ocl{background:0 0}.jstree-default-responsive .jstree-open&gt;.jstree-ocl{background-position:0 0!important}.jstree-default-responsive .jstree-closed&gt;.jstree-ocl{background-position:0 -40px!important}.jstree-default-responsive.jstree-rtl .jstree-closed&gt;.jstree-ocl{background-position:-40px 0!important}.jstree-default-responsive .jstree-themeicon{background-position:-40px -40px}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-checkbox:hover{background-position:-40px -80px}.jstree-default-responsive .jstree-clicked&gt;.jstree-checkbox,.jstree-default-responsive .jstree-clicked&gt;.jstree-checkbox:hover{background-position:0 -80px}.jstree-default-responsive .jstree-anchor&gt;.jstree-undetermined,.jstree-default-responsive .jstree-anchor&gt;.jstree-undetermined:hover{background-position:0 -120px}.jstree-default-responsive .jstree-anchor{font-weight:700;font-size:1.1em;text-shadow:1px 1px #fff}.jstree-default-responsive&gt;.jstree-striped{background:0 0}.jstree-default-responsive .jstree-wholerow{border-top:1px solid rgba(255,255,255,.7);border-bottom:1px solid rgba(64,64,64,.2);background:#ebebeb;height:40px}.jstree-default-responsive .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default-responsive .jstree-wholerow-clicked{background:#beebff}.jstree-default-responsive .jstree-children .jstree-last&gt;.jstree-wholerow{box-shadow:inset 0 -6px 3px -5px #666}.jstree-default-responsive .jstree-children .jstree-open&gt;.jstree-wholerow{box-shadow:inset 0 6px 3px -5px #666;border-top:0}.jstree-default-responsive .jstree-children .jstree-open+.jstree-open{box-shadow:none}.jstree-default-responsive .jstree-node,.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-node&gt;.jstree-ocl,.jstree-default-responsive .jstree-themeicon,.jstree-default-responsive .jstree-checkbox{background-image:url(40px.png);background-size:120px 200px}.jstree-default-responsive .jstree-node{background-position:-80px 0;background-repeat:repeat-y}.jstree-default-responsive .jstree-last{background:0 0}.jstree-default-responsive .jstree-leaf&gt;.jstree-ocl{background-position:-40px -120px}.jstree-default-responsive .jstree-last&gt;.jstree-ocl{background-position:-40px -160px}.jstree-default-responsive .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-responsive .jstree-file{background:url(40px.png) 0 -160px no-repeat;background-size:120px 200px}.jstree-default-responsive .jstree-folder{background:url(40px.png) -40px -40px no-repeat;background-size:120px 200px}}.jstree-default&gt;.jstree-container-ul&gt;.jstree-node{margin-left:0;margin-right:0}</pre></div>
	</div>
      </td>
  </tr></tbody>
</table>
<hr />

* csv の内容
<table>
  <tbody>
    <tr>
      <td width="400" valign="top" nowrap="nowrap">
	階層化表示
	<div>
	  <button class="tree_btn" id="ajaxTreeCsv_open">open_all</button>
	  <button class="tree_btn" id="ajaxTreeCsv_close">close_all</button>
	</div>
	<div id="ajaxTreeCsv" class="jstree jstree-1 jstree-default jstree-default-responsive" role="tree"><ul class="jstree-container-ul"><li role="treeitem" id="/Title" class="jstree-node  jstree-leaf"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon jstree-file jstree-themeicon-custom"></i><strong>Title</strong>:	    key で階層構造を表現させた {key</a></li><li role="treeitem" aria-expanded="false" id="/A" class="jstree-node  jstree-closed"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i><strong>A</strong></a></li><li role="treeitem" aria-expanded="false" id="/B" class="jstree-node  jstree-closed jstree-last"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i><strong>B</strong></a></li></ul></div>
      </td>
      <td valign="top" nowrap="nowrap">
	CSV のファイル内容
	<pre class="tree_pre">Title,    key で階層構造を表現させた {key, val} の CSV データ
A1,       A_1
A2,       A_2
A2X,      A_2 X
A2B1,     A_2 B_1
A4B1C1,   A 411
A4B1C2,   A 412
B1,       B 1
B2,       B 2
B2X,      B 2 X
B2B1,     B 2 B 1
B4B1C1D1, B 4 1 1 1
B4B1C2D3, B 4 1 2 3</pre>
      </td>
  </tr></tbody>
</table>
<hr />

* HTML List を Tree にする
<div id="listTree" class="jstree jstree-2 jstree-default jstree-default-responsive" role="tree"><ul class="jstree-container-ul"><li role="treeitem" aria-expanded="false" id="Root_1" class="jstree-node  jstree-closed"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>Root node 1
      </a></li><li role="treeitem" aria-expanded="false" id="Root_2" class="jstree-node  jstree-closed jstree-last"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>Root node 2
      </a></li></ul></div>

* json データ を Tree にする
<div>
  <div id="jsonTree" class="jstree jstree-3 jstree-default jstree-default-responsive" role="tree"><ul class="jstree-container-ul"><li role="treeitem" aria-expanded="false" id="node_1" class="jstree-node  jstree-closed"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>Root node</a></li><li role="treeitem" aria-expanded="true" id="node_2" class="jstree-node  jstree-open jstree-last"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor  jstree-clicked" href="#"><i class="jstree-icon jstree-themeicon"></i>Root node with options</a><ul role="group" class="jstree-children"><li role="treeitem" id="node_2_1" class="jstree-node  jstree-leaf"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>Child A</a></li><li role="treeitem" id="node_2_2" class="jstree-node  jstree-leaf jstree-last"><i class="jstree-icon jstree-ocl"></i><a class="jstree-anchor" href="#"><i class="jstree-icon jstree-themeicon"></i>Child B</a></li></ul></li></ul></div>
</div>

<hr />
<pre>  * TODO:
  - javascript を別ファイルにする。coffeescript にする。
  - サーチプラグイン, チェックボックスプラグインを試す。

  * jstree の設定:
  http://www.jstree.com/docs/json/ の download の link から zip ファイルを落としてくる。
  落としてきた vakata-jstree-3.0.0-0-gb446e66.zip を展開して、
  themas/ と *.js を assets/javascritp/ に copy する。

<script>
  $(function () {
    $('#file_contents_div').hide()
    $('#listTree').jstree();

    $('#listTree').on("changed.jstree", function (e, data) {
      // console.log(data.selected);
      $('#selected').text(data.selected);
    });

    $('#jsonTree').jstree({
      'core' : {
        'data' : [
            { 'id': 'node_1', 'text': 'Root node',
              'children' : [
                  { 'id': 'node_1_1', 'text' : 'Child 1' },
                  { 'id': 'node_1_2', 'text' : 'Child 2'}
                ]
            },
            { 'id': 'node_2', 'text': 'Root node with options',
              'state' : { 'opened' : true, 'selected' : true },
              'children' : [
                  { 'id': 'node_2_1', 'text' : 'Child A' },
                  { 'id': 'node_2_2', 'text' : 'Child B'}
                ]
            }
        ]
      }
    });
    $('#jsonTree').on("changed.jstree", function (e, data) {
      // console.log(data.selected);
      $('#selected').text(data.selected);
    });

    // See http://www.jstree.com/demo/  Filebrowser demo
    $('#ajaxTree').jstree({
      'core': {
        'data': {
          'url': function (node) {
            return 'treeData.json?path';
          },
          'data': function (node) {
             return { 'id' : node.id };
          },
          'check_callback': true,
          'error': function (jqXHR, textStatus, errorThrown) {
                      alert("error. " + qXHR.responseText);
                    }
        },
        'themes': {
          'responsive' : false,
          'variant': 'small',
          'stripes' : true
        }
      },
      "types": {
        "file": {
          "icon": 'file'
        }
      },
      "plugins": [ "types", "sort", "search", "wholerow" ]
    });
    $('#ajaxTree_open').click(function() {
      $('#ajaxTree').jstree('open_all');
    });
    $('#ajaxTree_close').click(function() {
      $('#ajaxTree').jstree('close_all');
    });

    // クリックで tree の expand / collapse
    $("#ajaxTree").bind("select_node.jstree", function (e, data) {
      return data.instance.toggle_node(data.node);
    });

    $('#ajaxTree').on("changed.jstree", function (e, data) {
      // console.log(data.selected);
      $('#selected').text(data.selected);
      $('#file_contents_div').hide()
      $('#file_contents').text('')
      if (data.node.original.type == 'file') {
        $('#file_type').text('ファイル');
        show_filedata(data.node.original.id)
      } else {
        $('#file_type').text('ディレクター');
        clear_filedata()
      }
    });

    // path で指定された ./app 以下の ファイルの内容を ajax で得て、画面に表示する。
    // ./app 以下 以外のファイルが指定された時はエラーにすること。
    function show_filedata(path) {
      $.get('/fileData', { path: path },
        function(data) {
          $('#file_contents_div').show()
          $('#file_contents').text(data)
      });
    }

    function show_imagedata(path) {
    }

    function clear_filedata() {
      $('#file_contents_div').hide()
      $('#image_contents_div').hide()
      $('#file_contents').text('')
    }
  });

    $('#ajaxTreeCsv').jstree({
      'core': {
        'data': {
          'url': function (node) {
            return node.id === '#' ? 'treeDataCsv.json' : 'treeDataCsv.json';
          },
          'data' : function (node) {
             return { 'path' : 'test.csv' };
          }
        }
      },
      "types" : {
        "file" : {
          "icon" : 'jstree-file'
        }
      },
      "plugins" : [ "types" ]
    });

    var timeout = false;
    $('#ajaxTree-q').keyup(function () {
      if (timeout) {
        clearTimeout(timeout);
      }
      timeout = setTimeout(function () {
        var v = $('#ajaxTree-q').val();
        $('#ajaxTree').jstree(true).search(v);
      }, 250);
    });

    $('#ajaxTreeCsv').on("changed.jstree", function (e, data) {
      if (data.node.original.attr &amp;&amp; data.node.original.attr.val) {
        $('#csv_contents').text(data.node.original.attr.val)
      } else {
        $('#csv_contents').text('')
      }
    });
    $('#ajaxTreeCsv_open').click(function() {
      $('#ajaxTreeCsv').jstree('open_all');
    });
    $('#ajaxTreeCsv_close').click(function() {
      $('#ajaxTreeCsv').jstree('close_all');
    });
</script>




</pre><ul class="vakata-context"></ul><div id="jstree-marker" style="display: none;"> </div></body><canvas id="fxdriver-screenshot-canvas" style="display: none;" width="945" height="1700"></canvas></html>